<ion-header>
    <ion-navbar>
        <ion-title>
            Buscar Vendas 
        </ion-title>
    </ion-navbar>
</ion-header>
    
<ion-content padding>

    <ion-card>
        <ion-card-content>
            <ion-card-header>
                <ion-card-title>
                    {{ record.costumer.name }} {{ record.costumer.lastName }}
                </ion-card-title>
            </ion-card-header>
        
            <ion-grid>

                <ion-row>
                    <ion-col col-6>
                        <ion-label><b>De:</b></ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD/MM/YYYY" [(ngModel)]="from_date" ></ion-datetime>
                    </ion-col>

                    <ion-col col-6>
                        <ion-label><b>Até:</b></ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD/MM/YYYY" [(ngModel)]="to_date" ></ion-datetime>
                    </ion-col>

                </ion-row>

                <ion-row>
                    <ion-col col-4>
                        <ion-input [brmasker]="{money: true}" [(ngModel)]="sale_min_value"></ion-input>
                    </ion-col>

                    <ion-col col-4>
                        <ion-label><b>≤ Valor ≤</b></ion-label>
                    </ion-col>

                    <ion-col col-4>
                        <ion-input [brmasker]="{money: true}" [(ngModel)]="sale_max_value"></ion-input>
                    </ion-col>
                </ion-row>
                
            </ion-grid>

            <button ion-button large color="default-blue" full icon-end (click)="search()">
                Buscar
                <ion-icon name="search"></ion-icon>
            </button>
        </ion-card-content>
    </ion-card>

    <h5> Número de vendas encontradas: {{sales.length}} </h5>

    <div *ngIf="noSalesFound == true">
        <img src="../../assets/imgs/norecord.png">
    </div>

    <div *ngIf="noSalesFound == false">
        <ion-grid *ngFor="let sale of sales; let i = index">
            <ion-row>
                <ion-card>
                    <ion-card-content>
                        <ion-row (click)="openDetailPage(sale)">
                            <ion-col>
                               
                            </ion-col>
                            <ion-col>
                                <ion-badge color="danger" item-end></ion-badge> <!--{{record.total | currency:'BRL':true}} -->
                            </ion-col>
                        </ion-row>
                    </ion-card-content>
                </ion-card>
            </ion-row>
        </ion-grid>
    </div>
</ion-content>